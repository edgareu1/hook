<!-- User profile banner -->
<div class="banner text-center">
  <%= large_avatar(current_user) %>

  <h4>Welcome <%= current_user.username.capitalize %> !</h4>

  <%= link_to "Create", id: "modal-button", data: { toggle: "modal", target: "#ModalNewLog" },
      class: "btn btn-user-box" do %>
    <h6>CREATE LOG</h6>
  <% end %>
</div>

<!-- User top Locations -->
<ul class="locations-container">
  <div class="d-flex">
    <%= image_tag "chair.png" %>

    <h3>My Locations</h3>

    <%= link_to "Create", data: { toggle: "modal", target: "#ModalNewLocation" } do %>
      <i class="fas fa-plus"></i>
    <% end %>
  </div>

  <!-- List of the User top 3 Locations -->
  <div id="locations-list">
    <% if @user_locations.empty? %>
      <p class="empty-field">No locations saved yet</p>

    <% else %>
      <%= render partial: "locations/location", collection: current_user.top_locations(3) %>
    <% end %>
  </div>
</ul>

<!-- Feed of curiosities -->
<ul class="feed-container">
  <h5>Did you know ?</h3>
  <p><%= @feed_item %></p>
</ul>

<!-- User stats -->
<div class="stats-container">
  <div>
    <%= current_user.logs.count %>
    <p>LOGS</p>
  </div>

  <div>
    <%= current_user.catch_count %>
    <p>FISH</p>
  </div>
</div>

<!-- User Top Fish Caught -->
<% unless @top_fish.empty? %>
  <ul class="top-fish">
    <h5 style="text-align:center">Most caught fish</h3>
    <% @top_fish.each_with_index do |fish, index|  %>
      <li>
        <p><%= "#{index + 1}." %> <i style="color:#9BDDF9"><%= "#{fish[:name]}" %></i> <%= "- #{fish[:num_catches]}" %></p>
      </li>
    <% end %>
  </ul>
<% end %>

<!-- Modals -->

<!-- Modal New Location Form -->
<div class="modal fade" id="ModalNewLocation" role="dialog">
  <%= render "locations/form", location: Location.new %>
</div>

<!-- Modal New Log Form -->
<div class="modal fade" id="ModalNewLog" role="dialog">
  <%= render "logs/form", log: Log.new %>
</div>
